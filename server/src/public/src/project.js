require=function e(t,n,i){function a(r,c){if(!n[r]){if(!t[r]){var s="function"==typeof require&&require;if(!c&&s)return s(r,!0);if(o)return o(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[r]={exports:{}};t[r][0].call(l.exports,function(e){var n=t[r][1][e];return a(n?n:e)},l,l.exports,e,t,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({GameOld:[function(e,t,n){"use strict";cc._RF.push(t,"e96b9XpCs5O8ZjBqjLv8KA+","GameOld");var i=e("LanguageData"),a=!0,o={LANGUAGE_DEFAULT:"fr",SERVER:"http://gof.julien.dev:3000/"},r={LANGUAGE_DEFAULT:"fr",SERVER:"http://gof.julien.dev:3000/"},c=function(){function e(){var e=new Object("Game");return e.isDebug=a,e.initialized="",a?e.config=o:e.config=r,e.init=function(){this.initialized="Game singleton initialized!"},i.init("fr"),e}var t;return{getInstance:function(){return t||(t=e()),t}}}();t.exports=c,cc._RF.pop()},{LanguageData:"LanguageData"}],GamePhase:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}cc._RF.push(t,"3ac1bWprMFKCozrFNz9biyB","GamePhase"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=e("LanguageData"),r=function(){function e(){i(this,e),this.id="assollement",this.score=0,this.date=null,this.money=5e4,this._startYear=0;var t=new Date(Date.now());this._startYear=t.getFullYear(),this.date=new Date(this._startYear,7,20)}return a(e,[{key:"getDateString",value:function(){var e=this.date.getFullYear(),t=this.date.getMonth()+1,n=this.date.getDate();return n.toLocaleString("fr",{minimumIntegerDigits:2})+"/"+t.toLocaleString("fr",{minimumIntegerDigits:2})+"/"+e}},{key:"title",get:function(){return o.t(this.id)}}]),e}();n["default"]=r,t.exports=n["default"],cc._RF.pop()},{LanguageData:"LanguageData"}],Game:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}cc._RF.push(t,"37f159UDU9GBpEOdPYC0xWt","Game"),Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("GamePhase"),c=i(r),s=e("LanguageData"),u=!0,l={LANGUAGE_DEFAULT:"fr",SERVICES_URL:"http://gof.julien.dev:3000/"},f={LANGUAGE_DEFAULT:"fr",SERVICES_URL:"http://gof.julien.dev:3000/"},p=null,d=function(){function e(){return a(this,e),this.isDebug=u,this.config=null,this.initialized="",this.gamePhase=null,p?p:(p=this,u?this.config=l:this.config=f,this.gamePhase=new c["default"],void s.init(this.config.LANGUAGE_DEFAULT))}return o(e,[{key:"init",value:function(){this.initialized="Game singleton initialized"}}]),e}();n["default"]=d,t.exports=n["default"],cc._RF.pop()},{GamePhase:"GamePhase",LanguageData:"LanguageData"}],LanguageData:[function(e,t,n){"use strict";function i(e){return window.i18n.languages[e]}function a(e){e&&(r?r.replace(e):r=new o({phrases:e,allowMissing:!0}))}cc._RF.push(t,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var o=e("polyglot.min"),r=null;window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(!e||e!==window.i18n.curLang){var t=null;e?(t=i(e),window.i18n.curLang=e):t=i(window.i18n.curLang),a(t)}},t:function(e,t){if(r)return r.t(e,t)},inst:r,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],n=0;n<e.length;++n){var i=e[n].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,i)}for(var a=0;a<t.length;++a){var o=t[a];o.updateLabel()}for(var r=[],c=0;c<e.length;++c){var s=e[c].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(r,s)}for(var u=0;u<r.length;++u){var l=r[u];l.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LocalizedLabelExt:[function(e,t,n){"use strict";cc._RF.push(t,"7eb01WD8EJDeZNKJNi9e5fa","LocalizedLabelExt");var i=e("LanguageData");cc.Class({"extends":cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedTextExt"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){i.inst||i.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e||(e=this.getComponent(cc.RichText)),e)return this.label=e,void this.updateLabel()},updateLabel:function(){if(!this.label)return void cc.error("Failed to update localized text!");var e=i.t(this.dataID);e?this.label.string=i.t(this.dataID):cc.warn("Missing text id: "+this.dataID)}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedLabel:[function(e,t,n){"use strict";cc._RF.push(t,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var i=e("LanguageData");cc.Class({"extends":cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){i.inst||i.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){if(!this.label)return void cc.error("Failed to update localized label, label component is invalid!");var e=i.t(this.dataID);e&&(this.label.string=i.t(this.dataID))}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t,n){"use strict";cc._RF.push(t,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var i=e("SpriteFrameSet");cc.Class({"extends":cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{"default":[],type:i}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(!this.sprite)return void cc.error("Failed to update localized sprite, sprite component is invalid!");var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],MapCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"e2e73B/wgFOW6TFModC0XXp","MapCtrl");var i=e("UIOffice"),a=e("UIDebug");cc.Class({"extends":cc.Component,editor:{requireComponent:cc.TiledMap,menu:"gof/MapCtrl"},properties:{mapScrollView:{"default":null,type:cc.ScrollView},startOffset:{"default":new cc.Vec2(0,0)},debugLabelPrefab:{"default":null,type:cc.Prefab}},onLoad:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(t){e._isScrolling=!1},this.node),this.node.on(cc.Node.EventType.TOUCH_END,function(t){if(!e._isScrolling){var n=t.touch,o=e._tiledMap;if(o){var r=o.getMapSize(),c=o.allLayers(),s=o.node.convertToNodeSpace(n.getLocation());a.touchLog=""+n.getLocationX()+","+n.getLocationY()+" => "+s;for(var u=o.getObjectGroups(),l=u.length-1;l>=0;l--)for(var f=u[l],p=f.getObjects(),d=0;d<p.length;d++){var h=p[d],g=new cc.rect(h.sgNode.x-h.sgNode.width/2,h.sgNode.y,h.sgNode.width,h.sgNode.height);if(g.contains(s))return a.log("Clicked on object "+h.name),void i.instance.show()}for(var l=c.length-1;l>=0;l--){var m=c[l],L=(m.getMapTileSize().width,m.getMapTileSize().height,m.getMapTileSize().width),v=m.getMapTileSize().height,b=m.getLayerSize().width,_=m.getLayerSize().height,y=1*s.x,w=1*s.y,S=Math.floor(_-w/v+y/L-b/2),F=Math.floor(_-w/v-y/L+b/2);if(S<r.width&&F<r.height){var D=m.getTileAt(cc.v2(S,F));if(D){var I=m.getTileGIDAt(cc.v2(S,F));return void a.log("Clicked on layer "+m.getLayerName()+" tile at "+S+","+F+" GID="+I)}}}}}},this.node)},start:function(e){if(!e&&(this.mapScrollView.scrollToOffset(this.startOffset),this._tiledMap=this.node.getComponent("cc.TiledMap"),this._tiledMap))for(var t=this._tiledMap.getObjectGroups(),n=t.length-1;n>=0;n--)for(var i=t[n],a=i.getObjects(),o=0;o<a.length;o++){var r=a[o],c=this.node.convertToWorldSpace(new cc.Vec2(r.sgNode.x,r.sgNode.y)),s=cc.instantiate(this.debugLabelPrefab);s.setPosition(c),s.setParent(this.node);var u=s.getComponentInChildren(cc.Label);u.string=r.name+": "+Math.floor(r.sgNode.x)+","+Math.floor(r.sgNode.y)}},scrollEvent:function(e,t){t<9?this._isScrolling=!0:this._isScrolling=!1}}),cc._RF.pop()},{UIDebug:"UIDebug",UIOffice:"UIOffice"}],SpriteFrameSet:[function(e,t,n){"use strict";cc._RF.push(t,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var i=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=i,cc._RF.pop()},{}],Startup:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"ae2f9bQf21IhJYFeGxAPR6E","Startup");var a=e("Game"),o=i(a),r=(e("LanguageData"),new o["default"]);cc.Class({"extends":cc.Component,editor:{menu:"gof/Startup"},properties:{},onLoad:function(){r.init()}}),cc._RF.pop()},{Game:"Game",LanguageData:"LanguageData"}],UIDebug:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"18ea2AjTFtAb7SJWmEwfDmn","UIDebug");var a=e("Game"),o=i(a),r=new o["default"],c=cc.Class({"extends":cc.Component,editor:{menu:"gof/UIDebug"},properties:{debugLabel:{"default":null,type:cc.Label},touchLabel:{"default":null,type:cc.Label},mapScrollView:{"default":null,type:cc.ScrollView}},statics:{instance:null,_log:[],log:function(e){var t=c._log.length;5==t&&(t=4);for(var n=t;n>0;n--)c._log[n]=c._log[n-1];c._log[0]=e},touchLog:""},onLoad:function(){null!=c.instance&&cc.error("UIDebug instance already loaded"),c.instance=this,c.log(r.initialized+"\n isDebug="+r.isDebug+"\n"+r.config.SERVICES_URL)},start:function(e){},update:function(e){if(null!=this.debugLabel){this.debugLabel.string="";for(var t=0;t<c._log.length;t++)this.debugLabel.string+=c._log[t]+"\n"}null!=this.touchLabel&&(this.touchLabel.string=c.touchLog,null!=this.mapScrollView&&(this.touchLabel.string+=" scrollOffset="+this.mapScrollView.getScrollOffset()))}});cc._RF.pop()},{Game:"Game"}],UIOffice:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"6a190mC+6ZOA5vlgY1st6XK","UIOffice");var a=e("UIPopupBase"),o=i(a),r=cc.Class({"extends":o["default"],editor:{menu:"gof/UIOffice"},properties:{},statics:{instance:null},onLoad:function(){r.instance=this,this.init()},onBtClose:function(){this.hide()}});cc._RF.pop()},{UIPopupBase:"UIPopupBase"}],UIPopupBase:[function(e,t,n){"use strict";cc._RF.push(t,"26b02/CIaZOIqLKQKleyE5X","UIPopupBase");var i=cc.Enum({LEFT:0,RIGHT:1,TOP:2,BOTTOM:3});cc.Class({"extends":cc.Component,properties:{From:{"default":i.LEFT,type:i}},init:function(){this._hidden=!1,this._defaultX=this.node.x,this._defaultY=this.node.y,this._size=this.node.getContentSize(),this.hide(!0)},show:function(){this._hidden&&(this.node.stopAllActions(),this.node.runAction(cc.moveTo(.2,cc.p(this._defaultX,this._defaultY))),this._hidden=!1)},hide:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._hidden){this.node.stopAllActions();var t=cc.Canvas.instance.node.width,n=cc.Canvas.instance.node.height,a=new cc.Vec2(this._defaultX,this._defaultY);switch(this.From){case i.LEFT:a.x=-t;break;case i.RIGHT:a.x=t;break;case i.TOP:a.y=n;break;case i.BOTTOM:a.y=-n;break;default:cc.error("Invalid from value: "+this.From),a.x=-t}e?(this.node.x=a.x,this.node.y=a.y):this.node.runAction(cc.moveTo(.2,a)),this._hidden=!0}}}),cc._RF.pop()},{}],UITop:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"5d170x4gqNGn6wYSkUsy2s+","UITop");var a=e("Game"),o=i(a),r=e("GamePhase"),c=(i(r),new o["default"]);cc.Class({"extends":cc.Component,editor:{menu:"gof/UITop"},properties:{dateLabel:{"default":null,type:cc.Label},moneyLabel:{"default":null,type:cc.Label}},onLoad:function(){},start:function(){},update:function(e){null!=c.gamePhase&&(this.dateLabel.string=c.gamePhase.title+" "+c.gamePhase.getDateString(),this.moneyLabel.string=c.gamePhase.money)}}),cc._RF.pop()},{Game:"Game",GamePhase:"GamePhase"}],fr:[function(e,t,n){"use strict";cc._RF.push(t,"686d3MfJx1GtoGUwTQcNuPP","fr"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.fr={game_title:"Game of Farms",assollement:"Assollement"},cc._RF.pop()},{}],"polyglot.min":[function(e,t,n){"use strict";cc._RF.push(t,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,a){"function"==typeof define&&define.amd?define([],function(){return a(e)}):"object"==("undefined"==typeof n?"undefined":i(n))?t.exports=a(e):e.Polyglot=a(e)}(void 0,function(e){function t(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||u}function n(e){var t,n,i,a={};for(t in e)if(e.hasOwnProperty(t)){n=e[t];for(i in n)a[n[i]]=t}return a}function a(e){var t=/^\s+|\s+$/g;return e.replace(t,"")}function o(e,t,n){var i,o,r;return null!=n&&e?(o=e.split(f),r=o[c(t,n)]||o[0],i=a(r)):i=e,i}function r(e){var t=n(d);return t[e]||t.en}function c(e,t){return p[r(e)](t)}function s(e,t){for(var n in t)"_"!==n&&t.hasOwnProperty(n)&&(e=e.replace(new RegExp("%\\{"+n+"\\}","g"),t[n]));return e}function u(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}function l(e){var t={};for(var n in e)t[n]=e[n];return t}t.VERSION="0.4.3",t.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},t.prototype.extend=function(e,t){var n;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],t&&(a=t+"."+a),"object"==("undefined"==typeof n?"undefined":i(n))?this.extend(n,a):this.phrases[a]=n)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(e){this.clear(),this.extend(e)},t.prototype.t=function(e,t){var n,i;return t=null==t?{}:t,"number"==typeof t&&(t={smart_count:t}),"string"==typeof this.phrases[e]?n=this.phrases[e]:"string"==typeof t._?n=t._:this.allowMissing?n=e:(this.warn('Missing translation for key: "'+e+'"'),i=e),"string"==typeof n&&(t=l(t),i=o(n,this.currentLocale,t.smart_count),i=s(i,t)),i},t.prototype.has=function(e){return e in this.phrases};var f="||||",p={chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10===1&&e%100!==11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!==1||e%100===11?1:0}},d={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t}),cc._RF.pop()},{}]},{},["LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min","Game","GameOld","GamePhase","LocalizedLabelExt","MapCtrl","Startup","UIDebug","UIOffice","UIPopupBase","UITop","fr"]);