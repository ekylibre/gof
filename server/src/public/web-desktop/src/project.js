require=function e(t,a,n){function r(c,o){if(!a[c]){if(!t[c]){var s="function"==typeof require&&require;if(!o&&s)return s(c,!0);if(i)return i(c,!0);var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var u=a[c]={exports:{}};t[c][0].call(u.exports,function(e){var a=t[c][1][e];return r(a?a:e)},u,u.exports,e,t,a,n)}return a[c].exports}for(var i="function"==typeof require&&require,c=0;c<n.length;c++)r(n[c]);return r}({ApiClient:[function(e,t,a){"use strict";function n(e){this.endPoint=e}function r(e){for(var t="",a=Object.keys(e),n=0;n<a.length;++n)n>0&&(t+="&"),t+=a[n]+"="+encodeURIComponent(e[a[n]]);return t.length>0?t:null}function i(e,t,a){return o(e,"GET",t,a)}function c(e,t,a){var n=o(e,"POST",t,a);return n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n}function o(e,t,a,n){var r=new XMLHttpRequest;return r.open(t,e.endPoint+a,!0),e.accessToken&&r.setRequestHeader("Authorization","Bearer "+e.accessToken),r.onreadystatechange=function(t){if(4==r.readyState){var a=null;try{a=JSON.parse(r.responseText)}catch(i){}return 200!==r.status&&n?void n(a,null,e):void(n&&n(null,a,e))}},r}cc._RF.push(t,"a5aaaraT9pJs4mh90pQOvW8","ApiClient"),n.prototype.checkAuth=function(e){var t=i(this,"/auth/check",e);t.send(null)},n.prototype.login=function(e,t,a){var n=c(this,"/auth/login",function(e,t,n){t&&(n.accessToken=t.payload.accessToken),a(e,t,n)}),i=r({email:e,password:t});n.send(i)},t.exports=n,cc._RF.pop()},{}],1:[function(e,t,a){"use strict";t.exports=Object.freeze({CultureModeEnum:{NORMAL:"normal",BIO:"bio",PERMACULTURE:"permaculture"}})},{}],Farm:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}cc._RF.push(t,"a0071wrzthDjJMdvjOEmTUS","Farm"),Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=e("Parcel"),o=(n(c),e("GamePhase")),s=(n(o),function(){function e(t,a){r(this,e),this.name=t,void 0===a?this.totalSurface=0:this.totalSurface=a,this.parcels=[],this.possibleSpecies=[],this.money=0,this.year=0,this.month=0,this.week=0}return i(e,[{key:"addParcel",value:function(e){this.parcels.push(e)}},{key:"findParcelAt",value:function(e){for(var t=0;t<this.parcels.length;t++){var a=this.parcels[t];if(a.hasTile(e))return a}return null}},{key:"findParcelAdjacent",value:function(e){for(var t=0;t<this.parcels.length;t++){var a=this.parcels[t];if(a.isAdjacent(e))return a}return null}},{key:"findParcelUID",value:function(e){if(void 0!==e)for(var t=0;t<this.parcels.length;t++){var a=this.parcels[t];if(a.uid===e)return a}return null}}]),e}());a["default"]=s,t.exports=a["default"],cc._RF.pop()},{GamePhase:"GamePhase",Parcel:"Parcel"}],GamePhase:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}cc._RF.push(t,"3ac1bWprMFKCozrFNz9biyB","GamePhase"),Object.defineProperty(a,"__esModule",{value:!0});var r=function i(){n(this,i),this.uid="assolement",this.startMoney=5e4,this.startMonth=7,this.startWeek=3,this.startYearDiff=0,this.perfectScore=0,this.parcels=[{uid:"parcel1",history:["ble","ble","orge","fallow","fallow"]},{uid:"parcel2",history:["pois","avoine","ble","ble","fallow"]},{uid:"parcel3",history:["lupin","lupin","colza","colza","fallow"]},{uid:"parcel4",history:["orge","sarrasin","seigle","sarrasin","fallow"]},{uid:"parcel5",history:["tournesol","mais","fallow","avoine","lupin"]},{uid:"parcel6",history:["fallow","fallow","carotte","pois","fallow"]},{uid:"parcel7",history:["lupin","lupin","triticale","fallow","ble"]}]};a["default"]=r,t.exports=a["default"],cc._RF.pop()},{}],Game:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}cc._RF.push(t,"37f159UDU9GBpEOdPYC0xWt","Game"),Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=e("GamePhase"),o=(n(c),e("Farm")),s=n(o),l=e("LanguageData"),u=!1,p={LANGUAGE_DEFAULT:"fr",SERVICES_URL:"http://gof.julien.dev:3000/"},f={LANGUAGE_DEFAULT:"fr",SERVICES_URL:"https://game-of-farms.ekylibre.com"},h=null,d=function(){function e(){return r(this,e),this._currPhase=null,h?h:(h=this,this.isDebug=u,u?this.config=p:this.config=f,l.init(this.config.LANGUAGE_DEFAULT),void(this.farm=new s["default"]))}return i(e,[{key:"phase",get:function(){return this._currPhase},set:function(e){if(void 0!==e&&null!==e){if(null!==this._currPhase&&this._currPhase.uid==e.uid)return;if(this.farm.month=e.startMonth,this.farm.week=e.startWeek,null===this._currPhase){this.farm.money=e.startMoney;for(var t=0;t<e.parcels.length;t++){var a=e.parcels[t],n=this.farm.findParcelUID(a.uid);null!=n?n.rotationHistory=a.history:cc.error("Could not find parcel uid "+a.uid)}}else this.farm.year+=e.startYearDiff;this._currPhase=e}else this._currPhase=null}}]),e}();a["default"]=d,t.exports=a["default"],cc._RF.pop()},{Farm:"Farm",GamePhase:"GamePhase",LanguageData:"LanguageData"}],LanguageData:[function(e,t,a){"use strict";function n(e){return window.i18n.languages[e]}function r(e){e&&(c?c.replace(e):c=new i({phrases:e,allowMissing:!0}))}cc._RF.push(t,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var i=e("polyglot.min"),c=null;window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(!e||e!==window.i18n.curLang){var t=null;e?(t=n(e),window.i18n.curLang=e):t=n(window.i18n.curLang),r(t)}},t:function(e,t){if(c)return c.t(e,t)},inst:c,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],a=0;a<e.length;++a){var n=e[a].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,n)}for(var r=0;r<t.length;++r){var i=t[r];i.updateLabel()}for(var c=[],o=0;o<e.length;++o){var s=e[o].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(c,s)}for(var l=0;l<c.length;++l){var u=c[l];u.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LocalizedLabelExt:[function(e,t,a){"use strict";cc._RF.push(t,"7eb01WD8EJDeZNKJNi9e5fa","LocalizedLabelExt");var n=e("LanguageData");cc.Class({"extends":cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedTextExt"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){n.inst||n.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e||(e=this.getComponent(cc.RichText)),e)return this.label=e,void this.updateLabel()},updateLabel:function(){if(!this.label)return void cc.error("Failed to update localized text!");var e=n.t(this.dataID);e?this.label.string=n.t(this.dataID):cc.warn("Missing text id: "+this.dataID)}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedLabel:[function(e,t,a){"use strict";cc._RF.push(t,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var n=e("LanguageData");cc.Class({"extends":cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){n.inst||n.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){if(!this.label)return void cc.error("Failed to update localized label, label component is invalid!");var e=n.t(this.dataID);e&&(this.label.string=n.t(this.dataID))}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t,a){"use strict";cc._RF.push(t,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var n=e("SpriteFrameSet");cc.Class({"extends":cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{"default":[],type:n}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(!this.sprite)return void cc.error("Failed to update localized sprite, sprite component is invalid!");var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],MapCtrl:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"e2e73B/wgFOW6TFModC0XXp","MapCtrl");var r=e("Game"),i=n(r),c=e("GamePhase"),o=n(c),s=e("Farm"),l=(n(s),e("Parcel")),u=n(l),p=e("UIParcelButton"),f=n(p),h=new i["default"],d=e("UIOffice"),g=e("UIDebug"),m=e("LanguageData");cc.Class({"extends":cc.Component,editor:{requireComponent:cc.ScrollView,menu:"gof/MapCtrl"},properties:{mapUILayer:{"default":null,type:cc.Node,displayName:"UI layer"},startOffset:{"default":new cc.Vec2(0,0),displayName:"Scroll starting pos"},mapParcels:{"default":[],type:[cc.TiledMap],displayName:"Parcels maps"},mapSprouts:{"default":[],type:[cc.TiledMap],displayName:"Sprouts maps"},mapObjects:{"default":[],type:[cc.TiledMap],displayName:"Objects maps"},parcelsGID:{"default":[],type:[cc.Integer],displayName:"Parcels GID"},parcelButtonPrefab:{"default":null,type:cc.Prefab,displayName:"Prefab Parcels button"},debugLabelPrefab:{"default":null,type:cc.Prefab}},_mapScrollView:null,_refMap:null,_refLayer:null,onLoad:function(){this._mapScrollView=this.getComponent(cc.ScrollView),this.initTouch()},start:function(e){e||(this._mapScrollView.scrollToOffset(this.startOffset),this.findParcels(),h.isDebug&&this.addDebugInfo(),null===h.phase&&(h.phase=new o["default"]))},initTouch:function(){var e=this;if(this.mapParcels&&this.mapParcels.length>0)this._refMap=this.mapParcels[0],this._refLayer=this._refMap.allLayers()[0];else{if(!(this.mapSprouts&&this.mapSprouts.length>0))return void cc.error("At least one parcel or sprout TiledMap is required");this._refMap=this.mapSprouts[0],this._refLayer=this._refMap.allLayers()[0]}this.node.on(cc.Node.EventType.TOUCH_START,function(t){e._isScrolling=!1},this.node),this.node.on(cc.Node.EventType.TOUCH_END,function(t){if(!e._isScrolling){var a=t.touch,n=e._refMap.node.convertToNodeSpace(a.getLocation());if(g.touchLog=""+a.getLocationX()+","+a.getLocationY()+" => "+n,e.mapObjects&&e.mapObjects.length>0)for(var r=0;r<e.mapObjects.length;r++)if(e.touchOnMap(e.mapObjects[r],n))return;if(e.mapSprouts&&e.mapSprouts.length>0)for(var r=0;r<e.mapSprouts.length;r++)if(e.touchOnMap(e.mapSprouts[r],n))return;if(e.mapParcels&&e.mapParcels.length>0)for(var r=0;r<e.mapParcels.length;r++)if(e.touchOnMap(e.mapParcels[r],n))return}},this.node)},touchOnMap:function(e,t){for(var a=e.getMapSize(),n=e.allLayers(),r=e.getObjectGroups(),i=r.length-1;i>=0;i--)for(var c=r[i],o=c.getObjects(),s=0;s<o.length;s++){var l=o[s],u=.15,p=l.sgNode.width*(1-2*u),f=p/2,m=l.sgNode.height*u,y=l.sgNode.height*(1-2*u),v=cc.rect(l.sgNode.x-f,l.sgNode.y+m,p,y);if(v.contains(t))return h.isDebug&&g.log("Clicked on object "+l.name),d.instance.show(),!0}for(var i=n.length-1;i>=0;i--){var b=n[i],L=b.getMapTileSize().width,_=b.getMapTileSize().height,P=b.getLayerSize().width,S=b.getLayerSize().height,I=1*t.x,w=1*t.y,F=Math.floor(S-w/_+I/L-P/2),D=Math.floor(S-w/_-I/L+P/2);if(F>=0&&D>=0&&F<a.width&&D<a.height){var U=cc.v2(F,D),C=b.getTileGIDAt(U);if(0!=C){if(h.isDebug){var x="Clicked on layer "+b.getLayerName()+" tile("+F+","+D+") GID="+C,R=h.farm.findParcelAt(U);null!=R&&(x+=" Parcel: "+R.name),g.log(x)}return!0}}}return!1},tileToUI:function(e){var t=this._refMap.getTileSize(),a=this._refLayer.getPositionAt(e);return a.y+=.5*t.height,this.mapToUI(a)},mapToUI:function(e){return cc.v2(e.x-.5*this.mapUILayer.width,e.y-.5*this.mapUILayer.height)},findParcels:function(){if(this.mapParcels&&this.parcelsGID&&this.parcelsGID.length>0)for(var e=0,t=0;t<this.mapParcels.length;t++){for(var a=this.mapParcels[t].getMapSize(),n=0;n<this.mapParcels[t].allLayers().length;n++)for(var r=this.mapParcels[t].allLayers()[n],i=0;i<a.height;i++)for(var c=0;c<a.width;c++)if(this.parcelsGID.includes(r.getTileGIDAt(c,i))){var o=new cc.Vec2(c,i),s=h.farm.findParcelAdjacent(o);if(null!=s&&s.tiledLayer==r)s.addTile(o);else{var l="parcel"+(h.farm.parcels.length+1),p=m.t("parcel")+" "+String(h.farm.parcels.length+1);s=new u["default"](l,p,r),s.addTile(o),h.farm.addParcel(s)}e++}h.farm.totalSurface=e}if(h.farm.parcels.length>0)for(var d=0;d<h.farm.parcels.length;d++){var s=h.farm.parcels[d],g=cc.instantiate(this.parcelButtonPrefab),y=g.getComponent(f["default"]);y.parcel=s,g.setParent(this.mapUILayer),g.setPosition(this.tileToUI(s.rect.center))}else cc.error("No parcels found! Please check you filled the mapParcel and parcelGID arrays")},addDebugInfo:function(){if(this.mapObjects)for(var e=0;e<this.mapObjects.length;e++)for(var t=this.mapObjects[e].getObjectGroups(),a=t.length-1;a>=0;a--)for(var n=t[a],r=n.getObjects(),i=0;i<r.length;i++){var c=r[i],o=cc.v2(c.sgNode.x,c.sgNode.y),s=cc.instantiate(this.debugLabelPrefab);s.setParent(this.mapUILayer),s.setPosition(this.mapToUI(o));var l=s.getComponentInChildren(cc.Label);l.string=c.name+": "+Math.floor(c.sgNode.x)+","+Math.floor(c.sgNode.y)}cc.log("NbParcels="+h.farm.parcels.length);for(var e=0;e<h.farm.parcels.length;e++){var u=h.farm.parcels[e];cc.log(u.name+": "+u.tiles.length)}},scrollEvent:function(e,t){t<9?this._isScrolling=!0:this._isScrolling=!1},__Debug:function(){}}),cc._RF.pop()},{Farm:"Farm",Game:"Game",GamePhase:"GamePhase",LanguageData:"LanguageData",Parcel:"Parcel",UIDebug:"UIDebug",UIOffice:"UIOffice",UIParcelButton:"UIParcelButton"}],Parcel:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}cc._RF.push(t,"65708Jw+k5C1oyCvtOGSAar","Parcel"),Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=cc.Enum({EMPTY:0,FALLOW:1,PLOWED:2,SEEDS:4,GROWING:5,READY:6}),c=function(){function e(t,a,r){n(this,e),this.uid=t,void 0===a?this.name="":this.name=a,this.tiledLayer=r,this.tiles=[],this.rect=cc.rect(),this.state=i.EMPTY,this.surface=0,this.rotationHistory=[],this.rotationPrevision=[]}return r(e,[{key:"hasTile",value:function(e){for(var t=0;t<this.tiles.length;t++)if(this.tiles[t].x===e.x&&this.tiles[t].y===e.y)return!0;return!1}},{key:"isAdjacent",value:function(e){for(var t=0;t<this.tiles.length;t++){var a=this.tiles[t];if(1==Math.abs(a.x-e.x)&&0==Math.abs(a.y-e.y))return!0;if(1==Math.abs(a.y-e.y)&&0==Math.abs(a.x-e.x))return!0}return!1}},{key:"addTile",value:function(e){this.tiles.push(e),0==this.rect.width&&(this.rect.x=e.x,this.rect.y=e.y,this.rect.width=1,this.rect.height=1),this.rect.x>e.x&&(this.rect.x=e.x),this.rect.xMax<e.x&&(this.rect.width=e.x-this.rect.x),this.rect.y>e.y&&(this.rect.y=e.y),this.rect.yMax<e.y&&(this.rect.height=e.y-this.rect.y),this.surface++}}]),e}();a["default"]=c,t.exports=a["default"],cc._RF.pop()},{}],Plant:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}cc._RF.push(t,"5c449arTcdBdrBCkvQ3zcI7","Plant"),Object.defineProperty(a,"__esModule",{value:!0});var r=(e("../../../common/constants"),function i(){n(this,i),this.dbId=0,this.dbData=null,this.tiledGID=[]});a["default"]=r,t.exports=a["default"],cc._RF.pop()},{"../../../common/constants":1}],SpriteFrameSet:[function(e,t,a){"use strict";cc._RF.push(t,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var n=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=n,cc._RF.pop()},{}],Startup:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"ae2f9bQf21IhJYFeGxAPR6E","Startup");var r=e("Game"),i=n(r);e("LanguageData"),new i["default"];cc.Class({"extends":cc.Component,editor:{menu:"gof/Startup"},properties:{},onLoad:function(){}}),cc._RF.pop()},{Game:"Game",LanguageData:"LanguageData"}],UIDebug:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"18ea2AjTFtAb7SJWmEwfDmn","UIDebug");var r=e("Game"),i=n(r),c=new i["default"],o=cc.Class({"extends":cc.Component,editor:{menu:"gof/UIDebug"},properties:{debugLabel:{"default":null,type:cc.Label},touchLabel:{"default":null,type:cc.Label},mapScrollView:{"default":null,type:cc.ScrollView}},statics:{instance:null,_log:[],log:function(e){o._log.unshift(e),o._log.length>5&&o._log.pop()},touchLog:""},onLoad:function(){null!=o.instance&&cc.error("UIDebug instance already loaded"),o.instance=this,c.isDebug?o.log("isDebug="+c.isDebug+"\n"+c.config.SERVICES_URL):(this.debugLabel.string="",this.touchLabel.string="")},start:function(e){},update:function(e){if(c.isDebug){if(null!=this.debugLabel){this.debugLabel.string="";for(var t=0;t<o._log.length;t++)this.debugLabel.string+=o._log[t]+"\n"}null!=this.touchLabel&&(this.touchLabel.string=o.touchLog,null!=this.mapScrollView&&(this.touchLabel.string+=" scrollOffset="+this.mapScrollView.getScrollOffset()))}}});cc._RF.pop()},{Game:"Game"}],UIOffice:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"6a190mC+6ZOA5vlgY1st6XK","UIOffice");var r=e("UIPopupBase"),i=n(r),c=e("Game"),o=n(c),s=e("LanguageData"),l=cc.Class({"extends":i["default"],editor:{menu:"gof/UIOffice"},properties:{farmName:{"default":null,type:cc.Label},totalSurface:{"default":null,type:cc.Label},nbParcels:{"default":null,type:cc.Label}},statics:{instance:null},onLoad:function(){l.instance=this,this.initPopup()},onShow:function(){var e=new o["default"],t=e.farm.name;void 0===t&&(t=s.t("farmDefaultName")),this.farmName.string=t,this.totalSurface.string=s.t("surfaceHectare",{val:e.farm.totalSurface}),this.nbParcels.string=e.farm.parcels.length.toString()},update:function(e){},onBtClose:function(){this.hide()}});cc._RF.pop()},{Game:"Game",LanguageData:"LanguageData",UIPopupBase:"UIPopupBase"}],UIParcelButton:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"1eeb4QRRqVC67SdkLrVyELP","UIParcelButton");var r=e("Parcel"),i=n(r),c=e("UIParcel");cc.Class({"extends":cc.Component,editor:{menu:"gof/UIParcelButton"},properties:{parcelName:{"default":null,type:cc.Label},parcel:{visible:!1,get:function(){return this._parcel},set:function(e){this._parcel=e,null!=this._parcel&&null!=this.parcelName&&(this.parcelName.string=this._parcel.name)},type:i["default"]}},_parcel:null,onLoad:function(){},onButtonClick:function(){c.instance.parcel=this.parcel,c.instance.show()}}),cc._RF.pop()},{Parcel:"Parcel",UIParcel:"UIParcel"}],UIParcelHistoryItem:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"e26d4zHk5xHfoZ0d5p3J3O6","UIParcelHistoryItem");var r=e("Parcel"),i=(n(r),e("LanguageData"));cc.Class({"extends":cc.Component,editor:{menu:"gof/UIParcelHistoryItem"},properties:{plantAtlas:{"default":null,type:cc.SpriteAtlas},plantDisAtlas:{"default":null,type:cc.SpriteAtlas},icon:{"default":null,type:cc.Sprite},species:{"default":null,type:cc.Label},culture:{"default":null,type:cc.Label},year:{"default":null,type:cc.Label}},onLoad:function(){},init:function(e,t,a){this.year.string=e,"fallow"==t?(this.species.string=i.t(t),this.culture.string="",this.icon.spriteFrame=this.plantAtlas.getSpriteFrame("ico_prairies")):(this.species.string=i.t("plant_"+t).toUpperCase(),void 0!==a?this.culture.string=i.t("culture_"+a).toUpperCase():this.culture.string=i.t("culture_normal").toUpperCase(),this.icon.spriteFrame=this.plantAtlas.getSpriteFrame("ico_"+t))}}),cc._RF.pop()},{LanguageData:"LanguageData",Parcel:"Parcel"}],UIParcel:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"5ed45J19xFADpo251R2d6oz","UIParcel");var r=e("UIPopupBase"),i=n(r),c=e("Parcel"),o=n(c),s=e("UIParcelHistoryItem"),l=n(s),u=e("LanguageData"),p=cc.Class({"extends":i["default"],editor:{menu:"gof/UIParcel"},properties:{parcelName:{"default":null,type:cc.Label},parcelGroundType:{"default":null,type:cc.Label},parcelSurface:{"default":null,type:cc.Label},historyScrollView:{"default":null,type:cc.ScrollView},previsionScrollView:{"default":null,type:cc.ScrollView},plantPrefab:{"default":null,type:cc.Prefab},parcel:{visible:!1,get:function(){return this._parcel},set:function(e){this._parcel=e,null!=this._parcel&&null!=this.parcelName&&(this.parcelName.string=this._parcel.name)},type:o["default"]}},statics:{instance:null},_parcel:null,onLoad:function(){p.instance=this,this.initPopup()},onShow:function(){var e=this.historyScrollView.content;if(e.removeAllChildren(!0),null!=this._parcel){for(var t=-this._parcel.rotationHistory.length,a=this._parcel.rotationHistory.length-1;a>=0;a--){var n=cc.instantiate(this.plantPrefab);n.setParent(e);var r=n.getComponent(l["default"]);r.init(t,this._parcel.rotationHistory[a]),t++}this.parcelSurface.string=u.t("surfaceHectare",{val:this._parcel.surface.toString()})}this.historyScrollView.scrollToLeft();var i=this.previsionScrollView.content;i.removeAllChildren(!0)},onBtClose:function(){this.hide()}});cc._RF.pop()},{LanguageData:"LanguageData",Parcel:"Parcel",UIParcelHistoryItem:"UIParcelHistoryItem",UIPopupBase:"UIPopupBase"}],UIPopupBase:[function(e,t,a){"use strict";cc._RF.push(t,"26b02/CIaZOIqLKQKleyE5X","UIPopupBase");var n=cc.Enum({LEFT:0,RIGHT:1,TOP:2,BOTTOM:3});cc.Class({"extends":cc.Component,properties:{From:{"default":n.LEFT,type:n}},initPopup:function(){this._hidden=!1,this._defaultX=this.node.x,this._defaultY=this.node.y,this._size=this.node.getContentSize(),this.hide(!0)},show:function(){this._hidden&&(this.node.stopAllActions(),this.node.runAction(cc.moveTo(.2,cc.p(this._defaultX,this._defaultY))),this._hidden=!1,void 0!==this.onShow&&this.onShow())},hide:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._hidden){this.node.stopAllActions();var t=cc.Canvas.instance.node.width,a=cc.Canvas.instance.node.height,r=new cc.Vec2(this._defaultX,this._defaultY);switch(this.From){case n.LEFT:r.x=-t;break;case n.RIGHT:r.x=t;break;case n.TOP:r.y=a;break;case n.BOTTOM:r.y=-a;break;default:cc.error("Invalid from value: "+this.From),r.x=-t}e?(this.node.x=r.x,this.node.y=r.y):this.node.runAction(cc.moveTo(.2,r)),this._hidden=!0,void 0!==this.onHide&&this.onHide()}}}),cc._RF.pop()},{}],UITop:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"5d170x4gqNGn6wYSkUsy2s+","UITop");var r=e("Game"),i=n(r),c=e("Farm"),o=(n(c),new i["default"]),s=e("LanguageData");cc.Class({"extends":cc.Component,editor:{menu:"gof/UITop"},properties:{dateLabel:{"default":null,type:cc.Label},moneyLabel:{"default":null,type:cc.Label}},onLoad:function(){this.moneyLabel.string="",this.dateLabel.string=""},start:function(){},update:function(e){if(null!=o.phase){var t=o.farm;this.moneyLabel.string=o.farm.money,this.dateLabel.string=s.t("date_value",{year:t.year,month:t.month+1,week:t.week+1})}}}),cc._RF.pop()},{Farm:"Farm",Game:"Game",LanguageData:"LanguageData"}],"polyglot.min":[function(e,t,a){"use strict";cc._RF.push(t,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,r){"function"==typeof define&&define.amd?define([],function(){return r(e)}):"object"==("undefined"==typeof a?"undefined":n(a))?t.exports=r(e):e.Polyglot=r(e)}(void 0,function(e){function t(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||l}function a(e){var t,a,n,r={};for(t in e)if(e.hasOwnProperty(t)){a=e[t];for(n in a)r[a[n]]=t}return r}function r(e){var t=/^\s+|\s+$/g;return e.replace(t,"")}function i(e,t,a){var n,i,c;return null!=a&&e?(i=e.split(p),c=i[o(t,a)]||i[0],n=r(c)):n=e,n}function c(e){var t=a(h);return t[e]||t.en}function o(e,t){return f[c(e)](t)}function s(e,t){for(var a in t)"_"!==a&&t.hasOwnProperty(a)&&(e=e.replace(new RegExp("%\\{"+a+"\\}","g"),t[a]));return e}function l(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}function u(e){var t={};for(var a in e)t[a]=e[a];return t}t.VERSION="0.4.3",t.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},t.prototype.extend=function(e,t){var a;for(var r in e)e.hasOwnProperty(r)&&(a=e[r],t&&(r=t+"."+r),"object"==("undefined"==typeof a?"undefined":n(a))?this.extend(a,r):this.phrases[r]=a)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(e){this.clear(),this.extend(e)},t.prototype.t=function(e,t){var a,n;return t=null==t?{}:t,"number"==typeof t&&(t={smart_count:t}),"string"==typeof this.phrases[e]?a=this.phrases[e]:"string"==typeof t._?a=t._:this.allowMissing?a=e:(this.warn('Missing translation for key: "'+e+'"'),n=e),"string"==typeof a&&(t=u(t),n=i(a,this.currentLocale,t.smart_count),n=s(n,t)),n},t.prototype.has=function(e){return e in this.phrases};var p="||||",f={chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10===1&&e%100!==11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!==1||e%100===11?1:0}},h={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t}),cc._RF.pop()},{}]},{},["ApiClient","Farm","Game","GamePhase","MapCtrl","Parcel","Plant","Startup","LocalizedLabelExt","UIDebug","UIOffice","UIParcel","UIParcelButton","UIParcelHistoryItem","UIPopupBase","UITop","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);