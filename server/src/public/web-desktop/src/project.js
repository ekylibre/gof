require=function e(t,a,n){function i(o,c){if(!a[o]){if(!t[o]){var s="function"==typeof require&&require;if(!c&&s)return s(o,!0);if(r)return r(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=a[o]={exports:{}};t[o][0].call(u.exports,function(e){var a=t[o][1][e];return i(a?a:e)},u,u.exports,e,t,a,n)}return a[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({ApiClient:[function(e,t,a){"use strict";function n(e){this.endPoint=e}function i(e,t,a){var n=new XMLHttpRequest;return n.open("GET",e.endPoint+t,!0),n.onreadystatechange=function(e){if(4==n.readyState)return 200!==n.status?void a(n.response,null):void a(null,n.response)},n}cc._RF.push(t,"a5aaaraT9pJs4mh90pQOvW8","ApiClient"),n.prototype.checkAuth=function(e){var t=i(this,"/auth/check",e);t.send(null)},t.exports=n,cc._RF.pop()},{}],1:[function(e,t,a){"use strict";t.exports=Object.freeze({CultureModeEnum:{NORMAL:"normal",BIO:"bio",PERMACULTURE:"permaculture"}})},{}],Farm:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}cc._RF.push(t,"a0071wrzthDjJMdvjOEmTUS","Farm"),Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=void 0;var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=e("Parcel"),c=(n(o),function(){function e(t,a){i(this,e),void 0===t?this.name="Farm":this.name=t,void 0===a?this.totalSurface=0:this.totalSurface=a,this.parcels=[],this.possibleSpecies=[]}return r(e,[{key:"addParcel",value:function(e){this.parcels.push(e)}},{key:"findParcelAt",value:function(e){for(var t=0;t<this.parcels.length;t++){var a=this.parcels[t];if(a.hasTile(e))return a}return null}},{key:"findParcelAdjacent",value:function(e){for(var t=0;t<this.parcels.length;t++){var a=this.parcels[t];if(a.isAdjacent(e))return a}return null}}]),e}());a["default"]=c,t.exports=a["default"],cc._RF.pop()},{Parcel:"Parcel"}],GamePhase:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}cc._RF.push(t,"3ac1bWprMFKCozrFNz9biyB","GamePhase"),Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=e("LanguageData"),o=function(){function e(){n(this,e),this.id="assollement",this.score=0,this.money=5e4;var t=new Date(Date.now());this._startYear=t.getFullYear(),this.date=new Date(this._startYear,7,20)}return i(e,[{key:"getDateString",value:function(){var e=this.date.getFullYear(),t=this.date.getMonth()+1,a=this.date.getDate();return a.toLocaleString("fr",{minimumIntegerDigits:2})+"/"+t.toLocaleString("fr",{minimumIntegerDigits:2})+"/"+e}},{key:"title",get:function(){return r.t(this.id)}}]),e}();a["default"]=o,t.exports=a["default"],cc._RF.pop()},{LanguageData:"LanguageData"}],Game:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}cc._RF.push(t,"37f159UDU9GBpEOdPYC0xWt","Game"),Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=void 0;var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=e("GamePhase"),c=n(o),s=e("Farm"),l=n(s),u=e("LanguageData"),p=!0,f={LANGUAGE_DEFAULT:"fr",SERVICES_URL:"http://gof.julien.dev:3000/"},h={LANGUAGE_DEFAULT:"fr",SERVICES_URL:"http://gof.julien.dev:3000/"},d=null,g=function(){function e(){return i(this,e),d?d:(d=this,this.isDebug=p,this.initialized="",p?this.config=f:this.config=h,this.farm=new l["default"],this.gamePhase=new c["default"],void u.init(this.config.LANGUAGE_DEFAULT))}return r(e,[{key:"init",value:function(){this.initialized="Game singleton initialized"}}]),e}();a["default"]=g,t.exports=a["default"],cc._RF.pop()},{Farm:"Farm",GamePhase:"GamePhase",LanguageData:"LanguageData"}],LanguageData:[function(e,t,a){"use strict";function n(e){return window.i18n.languages[e]}function i(e){e&&(o?o.replace(e):o=new r({phrases:e,allowMissing:!0}))}cc._RF.push(t,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var r=e("polyglot.min"),o=null;window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(!e||e!==window.i18n.curLang){var t=null;e?(t=n(e),window.i18n.curLang=e):t=n(window.i18n.curLang),i(t)}},t:function(e,t){if(o)return o.t(e,t)},inst:o,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],a=0;a<e.length;++a){var n=e[a].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,n)}for(var i=0;i<t.length;++i){var r=t[i];r.updateLabel()}for(var o=[],c=0;c<e.length;++c){var s=e[c].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(o,s)}for(var l=0;l<o.length;++l){var u=o[l];u.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LocalizedLabelExt:[function(e,t,a){"use strict";cc._RF.push(t,"7eb01WD8EJDeZNKJNi9e5fa","LocalizedLabelExt");var n=e("LanguageData");cc.Class({"extends":cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedTextExt"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){n.inst||n.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e||(e=this.getComponent(cc.RichText)),e)return this.label=e,void this.updateLabel()},updateLabel:function(){if(!this.label)return void cc.error("Failed to update localized text!");var e=n.t(this.dataID);e?this.label.string=n.t(this.dataID):cc.warn("Missing text id: "+this.dataID)}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedLabel:[function(e,t,a){"use strict";cc._RF.push(t,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var n=e("LanguageData");cc.Class({"extends":cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){n.inst||n.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){if(!this.label)return void cc.error("Failed to update localized label, label component is invalid!");var e=n.t(this.dataID);e&&(this.label.string=n.t(this.dataID))}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t,a){"use strict";cc._RF.push(t,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var n=e("SpriteFrameSet");cc.Class({"extends":cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{"default":[],type:n}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(!this.sprite)return void cc.error("Failed to update localized sprite, sprite component is invalid!");var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],MapCtrl:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"e2e73B/wgFOW6TFModC0XXp","MapCtrl");var i=e("Game"),r=n(i),o=e("Farm"),c=(n(o),e("Parcel")),s=n(c),l=e("UIParcelButton"),u=n(l),p=new r["default"],f=e("UIOffice"),h=e("UIDebug");cc.Class({"extends":cc.Component,editor:{requireComponent:cc.ScrollView,menu:"gof/MapCtrl"},properties:{mapUILayer:{"default":null,type:cc.Node,displayName:"UI layer"},startOffset:{"default":new cc.Vec2(0,0),displayName:"Scroll starting pos"},mapParcels:{"default":[],type:[cc.TiledMap],displayName:"Parcels maps"},mapSprouts:{"default":[],type:[cc.TiledMap],displayName:"Sprouts maps"},mapObjects:{"default":[],type:[cc.TiledMap],displayName:"Objects maps"},parcelsGID:{"default":[],type:[cc.Integer],displayName:"Parcels GID"},parcelButtonPrefab:{"default":null,type:cc.Prefab,displayName:"Prefab Parcels button"},debugLabelPrefab:{"default":null,type:cc.Prefab}},_mapScrollView:null,_refMap:null,_refLayer:null,onLoad:function(){this._mapScrollView=this.getComponent(cc.ScrollView),this.initTouch()},start:function(e){e||(this._mapScrollView.scrollToOffset(this.startOffset),this.findParcels(),p.isDebug&&this.addDebugInfo())},initTouch:function(){var e=this;if(this.mapParcels&&this.mapParcels.length>0)this._refMap=this.mapParcels[0],this._refLayer=this._refMap.allLayers()[0];else{if(!(this.mapSprouts&&this.mapSprouts.length>0))return void cc.error("At least one parcel or sprout TiledMap is required");this._refMap=this.mapSprouts[0],this._refLayer=this._refMap.allLayers()[0]}this.node.on(cc.Node.EventType.TOUCH_START,function(t){e._isScrolling=!1},this.node),this.node.on(cc.Node.EventType.TOUCH_END,function(t){if(!e._isScrolling){var a=t.touch,n=e._refMap.node.convertToNodeSpace(a.getLocation());if(h.touchLog=""+a.getLocationX()+","+a.getLocationY()+" => "+n,e.mapObjects&&e.mapObjects.length>0)for(var i=0;i<e.mapObjects.length;i++)if(e.touchOnMap(e.mapObjects[i],n))return;if(e.mapSprouts&&e.mapSprouts.length>0)for(var i=0;i<e.mapSprouts.length;i++)if(e.touchOnMap(e.mapSprouts[i],n))return;if(e.mapParcels&&e.mapParcels.length>0)for(var i=0;i<e.mapParcels.length;i++)if(e.touchOnMap(e.mapParcels[i],n))return}},this.node)},touchOnMap:function(e,t){for(var a=e.getMapSize(),n=e.allLayers(),i=e.getObjectGroups(),r=i.length-1;r>=0;r--)for(var o=i[r],c=o.getObjects(),s=0;s<c.length;s++){var l=c[s],u=.15,d=l.sgNode.width*(1-2*u),g=d/2,m=l.sgNode.height*u,y=l.sgNode.height*(1-2*u),v=cc.rect(l.sgNode.x-g,l.sgNode.y+m,d,y);if(v.contains(t))return p.isDebug&&h.log("Clicked on object "+l.name),f.instance.show(),!0}for(var r=n.length-1;r>=0;r--){var b=n[r],L=b.getMapTileSize().width,_=b.getMapTileSize().height,P=b.getLayerSize().width,I=b.getLayerSize().height,S=1*t.x,w=1*t.y,F=Math.floor(I-w/_+S/L-P/2),D=Math.floor(I-w/_-S/L+P/2);if(F>=0&&D>=0&&F<a.width&&D<a.height){var C=cc.v2(F,D),x=b.getTileGIDAt(C);if(0!=x){if(p.isDebug){var U="Clicked on layer "+b.getLayerName()+" tile("+F+","+D+") GID="+x,R=p.farm.findParcelAt(C);null!=R&&(U+=" Parcel: "+R.name),h.log(U)}return!0}}}return!1},tileToUI:function(e){var t=this._refMap.getTileSize(),a=this._refLayer.getPositionAt(e);return a.y+=.5*t.height,this.mapToUI(a)},mapToUI:function(e){return cc.v2(e.x-.5*this.mapUILayer.width,e.y-.5*this.mapUILayer.height)},findParcels:function(){if(this.mapParcels&&this.parcelsGID&&this.parcelsGID.length>0)for(var e=0,t=0;t<this.mapParcels.length;t++){for(var a=this.mapParcels[t].getMapSize(),n=0;n<this.mapParcels[t].allLayers().length;n++)for(var i=this.mapParcels[t].allLayers()[n],r=0;r<a.height;r++)for(var o=0;o<a.width;o++)if(this.parcelsGID.includes(i.getTileGIDAt(o,r))){var c=new cc.Vec2(o,r),l=p.farm.findParcelAdjacent(c);if(null!=l&&l.tiledLayer==i)l.addTile(c);else{var f="Parcel"+(p.farm.parcels.length+1);l=new s["default"](f,i),l.addTile(c),p.farm.addParcel(l)}e++}p.farm.totalSurface=e}if(p.farm.parcels.length>0)for(var h=0;h<p.farm.parcels.length;h++){var l=p.farm.parcels[h],d=cc.instantiate(this.parcelButtonPrefab),g=d.getComponent(u["default"]);g.parcel=l,d.setParent(this.mapUILayer),d.setPosition(this.tileToUI(l.rect.center))}else cc.error("No parcels found! Please check you filled the mapParcel and parcelGID arrays")},addDebugInfo:function(){if(this.mapObjects)for(var e=0;e<this.mapObjects.length;e++)for(var t=this.mapObjects[e].getObjectGroups(),a=t.length-1;a>=0;a--)for(var n=t[a],i=n.getObjects(),r=0;r<i.length;r++){var o=i[r],c=cc.v2(o.sgNode.x,o.sgNode.y),s=cc.instantiate(this.debugLabelPrefab);s.setParent(this.mapUILayer),s.setPosition(this.mapToUI(c));var l=s.getComponentInChildren(cc.Label);l.string=o.name+": "+Math.floor(o.sgNode.x)+","+Math.floor(o.sgNode.y)}cc.log("NbParcels="+p.farm.parcels.length);for(var e=0;e<p.farm.parcels.length;e++){var u=p.farm.parcels[e];cc.log(u.name+": "+u.tiles.length)}},scrollEvent:function(e,t){t<9?this._isScrolling=!0:this._isScrolling=!1},__Debug:function(){}}),cc._RF.pop()},{Farm:"Farm",Game:"Game",Parcel:"Parcel",UIDebug:"UIDebug",UIOffice:"UIOffice",UIParcelButton:"UIParcelButton"}],Parcel:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}cc._RF.push(t,"65708Jw+k5C1oyCvtOGSAar","Parcel"),Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=cc.Enum({EMPTY:0,FALLOW:1,PLOWED:2,SEEDS:4,GROWING:5,READY:6}),o=function(){function e(t,a){n(this,e),void 0===t?this.name="":this.name=t,this.tiledLayer=a,this.tiles=[],this.rect=cc.rect(),this.state=r.EMPTY,this.surface=0,this.rotationHistory=[],this.rotationPrevision=[]}return i(e,[{key:"hasTile",value:function(e){for(var t=0;t<this.tiles.length;t++)if(this.tiles[t].x===e.x&&this.tiles[t].y===e.y)return!0;return!1}},{key:"isAdjacent",value:function(e){for(var t=0;t<this.tiles.length;t++){var a=this.tiles[t];if(1==Math.abs(a.x-e.x)&&0==Math.abs(a.y-e.y))return!0;if(1==Math.abs(a.y-e.y)&&0==Math.abs(a.x-e.x))return!0}return!1}},{key:"addTile",value:function(e){this.tiles.push(e),0==this.rect.width&&(this.rect.x=e.x,this.rect.y=e.y,this.rect.width=1,this.rect.height=1),this.rect.x>e.x&&(this.rect.x=e.x),this.rect.xMax<e.x&&(this.rect.width=e.x-this.rect.x),this.rect.y>e.y&&(this.rect.y=e.y),this.rect.yMax<e.y&&(this.rect.height=e.y-this.rect.y),this.surface++}}]),e}();a["default"]=o,t.exports=a["default"],cc._RF.pop()},{}],Plant:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}cc._RF.push(t,"5c449arTcdBdrBCkvQ3zcI7","Plant"),Object.defineProperty(a,"__esModule",{value:!0});var i=(e("../../../common/constants"),function r(){n(this,r),this.dbId=0,this.dbData=null,this.tiledGID=[]});a["default"]=i,t.exports=a["default"],cc._RF.pop()},{"../../../common/constants":1}],SpriteFrameSet:[function(e,t,a){"use strict";cc._RF.push(t,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var n=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=n,cc._RF.pop()},{}],Startup:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"ae2f9bQf21IhJYFeGxAPR6E","Startup");var i=e("ApiClient"),r=n(i),o=e("Game"),c=n(o),s=(e("LanguageData"),new c["default"]);cc.Class({"extends":cc.Component,editor:{menu:"gof/Startup"},properties:{},onLoad:function(){var e="/api";cc.sys.isBrowser&&"localhost"===location.hostname&&3e3!==location.port&&(e="http://gof.julien.dev:3000/api");var t=new r["default"](e);t.checkAuth(function(e,t){return e?console.log(e):void console.log(t)}),s.init()}}),cc._RF.pop()},{ApiClient:"ApiClient",Game:"Game",LanguageData:"LanguageData"}],UIDebug:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"18ea2AjTFtAb7SJWmEwfDmn","UIDebug");var i=e("Game"),r=n(i),o=new r["default"],c=cc.Class({"extends":cc.Component,editor:{menu:"gof/UIDebug"},properties:{debugLabel:{"default":null,type:cc.Label},touchLabel:{"default":null,type:cc.Label},mapScrollView:{"default":null,type:cc.ScrollView}},statics:{instance:null,_log:[],log:function(e){c._log.unshift(e),c._log.length>5&&c._log.pop()},touchLog:""},onLoad:function(){null!=c.instance&&cc.error("UIDebug instance already loaded"),c.instance=this,c.log(o.initialized+"\n isDebug="+o.isDebug+"\n"+o.config.SERVICES_URL)},start:function(e){},update:function(e){if(null!=this.debugLabel){this.debugLabel.string="";for(var t=0;t<c._log.length;t++)this.debugLabel.string+=c._log[t]+"\n"}null!=this.touchLabel&&(this.touchLabel.string=c.touchLog,null!=this.mapScrollView&&(this.touchLabel.string+=" scrollOffset="+this.mapScrollView.getScrollOffset()))}});cc._RF.pop()},{Game:"Game"}],UIOffice:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"6a190mC+6ZOA5vlgY1st6XK","UIOffice");var i=e("UIPopupBase"),r=n(i),o=e("Game"),c=n(o),s=e("LanguageData"),l=cc.Class({"extends":r["default"],editor:{menu:"gof/UIOffice"},properties:{},statics:{instance:null},onLoad:function(){l.instance=this,this.initPopup(),this._label=this.getComponentInChildren(cc.Label)},onShow:function(){var e=new c["default"],t=e.farm.name+"\n"+s.t("parcels")+" "+e.farm.parcels.length+"\n"+s.t("totalSurface",{val:e.farm.totalSurface})+"\n";this._label.string=t},update:function(e){},onBtClose:function(){this.hide()}});cc._RF.pop()},{Game:"Game",LanguageData:"LanguageData",UIPopupBase:"UIPopupBase"}],UIParcelButton:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"1eeb4QRRqVC67SdkLrVyELP","UIParcelButton");var i=e("Parcel"),r=n(i),o=e("UIParcel");cc.Class({"extends":cc.Component,editor:{menu:"gof/UIParcelButton"},properties:{parcelName:{"default":null,type:cc.Label},parcel:{visible:!1,get:function(){return this._parcel},set:function(e){this._parcel=e,null!=this._parcel&&null!=this.parcelName&&(this.parcelName.string=this._parcel.name)},type:r["default"]}},_parcel:null,onLoad:function(){},onButtonClick:function(){o.instance.parcel=this.parcel,o.instance.show()}}),cc._RF.pop()},{Parcel:"Parcel",UIParcel:"UIParcel"}],UIParcelHistoryItem:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"e26d4zHk5xHfoZ0d5p3J3O6","UIParcelHistoryItem");var i=e("Parcel");n(i);cc.Class({"extends":cc.Component,editor:{menu:"gof/UIParcelHistoryItem"},properties:{plantIcon:{"default":null,type:cc.Sprite},plantSpecies:{"default":null,type:cc.Label},year:{"default":null,type:cc.Label}},onLoad:function(){}}),cc._RF.pop()},{Parcel:"Parcel"}],UIParcel:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"5ed45J19xFADpo251R2d6oz","UIParcel");var i=e("UIPopupBase"),r=n(i),o=e("Parcel"),c=n(o),s=(e("LanguageData"),cc.Class({"extends":r["default"],editor:{menu:"gof/UIParcel"},properties:{parcelName:{"default":null,type:cc.Label},historyScrollView:{"default":null,type:cc.ScrollView},plantPrefab:{"default":null,type:cc.Prefab},parcel:{visible:!1,get:function(){return this._parcel},set:function(e){this._parcel=e,null!=this._parcel&&null!=this.parcelName&&(this.parcelName.string=this._parcel.name)},type:c["default"]}},statics:{instance:null},_parcel:null,onLoad:function(){s.instance=this,this.initPopup()},onBtClose:function(){this.hide()}}));cc._RF.pop()},{LanguageData:"LanguageData",Parcel:"Parcel",UIPopupBase:"UIPopupBase"}],UIPopupBase:[function(e,t,a){"use strict";cc._RF.push(t,"26b02/CIaZOIqLKQKleyE5X","UIPopupBase");var n=cc.Enum({LEFT:0,RIGHT:1,TOP:2,BOTTOM:3});cc.Class({"extends":cc.Component,properties:{From:{"default":n.LEFT,type:n}},initPopup:function(){this._hidden=!1,this._defaultX=this.node.x,this._defaultY=this.node.y,this._size=this.node.getContentSize(),this.hide(!0)},show:function(){this._hidden&&(this.node.stopAllActions(),this.node.runAction(cc.moveTo(.2,cc.p(this._defaultX,this._defaultY))),this._hidden=!1,void 0!==this.onShow&&this.onShow())},hide:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._hidden){this.node.stopAllActions();var t=cc.Canvas.instance.node.width,a=cc.Canvas.instance.node.height,i=new cc.Vec2(this._defaultX,this._defaultY);switch(this.From){case n.LEFT:i.x=-t;break;case n.RIGHT:i.x=t;break;case n.TOP:i.y=a;break;case n.BOTTOM:i.y=-a;break;default:cc.error("Invalid from value: "+this.From),i.x=-t}e?(this.node.x=i.x,this.node.y=i.y):this.node.runAction(cc.moveTo(.2,i)),this._hidden=!0,void 0!==this.onHide&&this.onHide()}}}),cc._RF.pop()},{}],UITop:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}cc._RF.push(t,"5d170x4gqNGn6wYSkUsy2s+","UITop");var i=e("Game"),r=n(i),o=e("GamePhase"),c=(n(o),new r["default"]);cc.Class({"extends":cc.Component,editor:{menu:"gof/UITop"},properties:{dateLabel:{"default":null,type:cc.Label},moneyLabel:{"default":null,type:cc.Label}},onLoad:function(){},start:function(){},update:function(e){null!=c.gamePhase&&(this.dateLabel.string=c.gamePhase.title+" "+c.gamePhase.getDateString(),this.moneyLabel.string=c.gamePhase.money)}}),cc._RF.pop()},{Game:"Game",GamePhase:"GamePhase"}],fr:[function(e,t,a){"use strict";cc._RF.push(t,"686d3MfJx1GtoGUwTQcNuPP","fr"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.fr={game_title:"Game of Farms",assollement:"Assollement",parcels:"Parcelles",totalSurface:"Surface totale : %{val}",parcelHistory:"Historique d'assollement"},cc._RF.pop()},{}],"polyglot.min":[function(e,t,a){"use strict";cc._RF.push(t,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,i){"function"==typeof define&&define.amd?define([],function(){return i(e)}):"object"==("undefined"==typeof a?"undefined":n(a))?t.exports=i(e):e.Polyglot=i(e)}(void 0,function(e){function t(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||l}function a(e){var t,a,n,i={};for(t in e)if(e.hasOwnProperty(t)){a=e[t];for(n in a)i[a[n]]=t}return i}function i(e){var t=/^\s+|\s+$/g;return e.replace(t,"")}function r(e,t,a){var n,r,o;return null!=a&&e?(r=e.split(p),o=r[c(t,a)]||r[0],n=i(o)):n=e,n}function o(e){var t=a(h);return t[e]||t.en}function c(e,t){return f[o(e)](t)}function s(e,t){for(var a in t)"_"!==a&&t.hasOwnProperty(a)&&(e=e.replace(new RegExp("%\\{"+a+"\\}","g"),t[a]));return e}function l(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}function u(e){var t={};for(var a in e)t[a]=e[a];return t}t.VERSION="0.4.3",t.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},t.prototype.extend=function(e,t){var a;for(var i in e)e.hasOwnProperty(i)&&(a=e[i],t&&(i=t+"."+i),"object"==("undefined"==typeof a?"undefined":n(a))?this.extend(a,i):this.phrases[i]=a)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(e){this.clear(),this.extend(e)},t.prototype.t=function(e,t){var a,n;return t=null==t?{}:t,"number"==typeof t&&(t={smart_count:t}),"string"==typeof this.phrases[e]?a=this.phrases[e]:"string"==typeof t._?a=t._:this.allowMissing?a=e:(this.warn('Missing translation for key: "'+e+'"'),n=e),"string"==typeof a&&(t=u(t),n=r(a,this.currentLocale,t.smart_count),n=s(n,t)),n},t.prototype.has=function(e){return e in this.phrases};var p="||||",f={chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10===1&&e%100!==11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!==1||e%100===11?1:0}},h={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t}),cc._RF.pop()},{}]},{},["ApiClient","Farm","Game","GamePhase","MapCtrl","Parcel","Plant","Startup","LocalizedLabelExt","UIDebug","UIOffice","UIParcel","UIParcelButton","UIParcelHistoryItem","UIPopupBase","UITop","fr","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);